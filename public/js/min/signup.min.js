$(document).ready(function(){$("#emailnew").keyup(function(){var r=$("#emailnew").val();$.get("/checkEmail",{email:r},function(e){e.email==r?($("#emailnew").css("border-color","red"),$("#signuperror").text("E-mail address already in use."),$("#signupbtn").prop("disabled",!0)):($("#emailnew").css("border-color","#E3E3E3"),$("#signuperror").text(""),$("#signupbtn").prop("disabled",!1))})}),$("#signupbtn").on("click",function(e){e.preventDefault();var r,a,t,o,l,s;document.getElementById("fname"),document.getElementById("lname"),document.getElementById("emailnew"),document.getElementById("passnew"),document.getElementById("cpassnew");$("#signuperror").text(""),$("#signupform input:valid").css("border-color","lightgray"),r=!0,a=validator.trim($("#fname").val()),t=validator.trim($("#lname").val()),o=validator.trim($("#emailnew").val()),l=validator.trim($("#passnew").val()),s=validator.trim($("#cpassnew").val()),validator.isEmpty(a)&&($("#fname").css("border-color","red"),r=!1),validator.isEmpty(t)&&($("#lname").css("border-color","red"),r=!1),validator.isEmpty(o)&&($("#emailnew").css("border-color","red"),r=!1),validator.isEmpty(l)&&($("#passnew").css("border-color","red"),r=!1),validator.isEmpty(s)&&($("#cpassnew").css("border-color","red"),r=!1),r?(validator.trim($("#emailnew").val()),(document.getElementById("emailnew").checkValidity()||($("#signuperror").text("Please enter a valid e-mail address."),void $("#emailnew").css("border-color","red")))&&function(){var e=validator.trim($("#passnew").val()),r=validator.trim($("#cpassnew").val()),a=validator.isLength(e,{min:6});if(e==r){if(a)return 1;$("#signuperror").text("Password should be 6+ characters.")}else $("#signuperror").text("Passwords don't match.");$("#passnew").css("borderColor","red"),$("#cpassnew").css("borderColor","red")}()&&($("#signupform").submit(),$(".modal-message-text").text("Please check your e-mail to verify your account."),setTimeout(function(){$("#signupmodal").modal("toggle"),$("#modal-message").modal("toggle")},50))):$("#signuperror").text("Please properly fill out all fields.")})});